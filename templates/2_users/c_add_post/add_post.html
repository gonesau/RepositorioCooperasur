{% extends "base.html" %}

{% block title %}
Repositorio - Usuario
{% endblock title %}

{% block css %}
<link rel="stylesheet" href="{{url_for('static', filename='2_users/c_add_post/ckeditor.css')}}">
<link rel="stylesheet" href="{{url_for('static', filename='2_users/c_add_post/form.css')}}">
{% endblock css %}

{% block logout %}
{% include 'comps/desplegable.html' %}
{% endblock logout %}

{% block dynamicBanner %}
{% include 'comps/dynamic_banner.html' %}
{% include 'comps/dynamic_banner_priv.html' %}
{% endblock dynamicBanner %}

{% block pathusr %}
<li class="breadcrumb-item"><a href="{{url_for('w_repo')}}"><i class="bi bi-house-door-fill"></i></a></li>
<li class="breadcrumb-item active">Nueva Publicación</li>
{% endblock pathusr %}

{% block body %}

<form method="POST" action="{{ url_for('add_post') }}" id="newPost" class="" enctype="multipart/form-data">
  {{ form.csrf_token }}

  <div class="f-a">
    {{ form.type_post.label(class_="fa-a") }}
    {{ form.type_post(class_='form-select fa-b') }}
    {{ form.theme_category.label(class_="fa-c") }}
    {{ form.theme_category(class_='form-select fa-d') }}
  </div>
  <div class="f-b">
    <div class="f-b-1">
      {{ form.post_title.label() }} <br>
      <b><span id="charNumTitle">0 / 100</span></b>
    </div>
    {{ form.post_title(class_='form-control', maxlength="100") }}
  </div>
  <div class="f-b">
    <div class="f-b-1">
      {{ form.resume_post.label() }} <br>
      <b><span id="charNum">0 / 500</span></b>
    </div>
    {{ form.resume_post(class_="form-control", maxlength="500") }}
  </div>
  <div>
    <!-- {# {{ form.uploadFile.label() }} #} -->
    {{ form.uploadFile(class_='form-control') }}
    <!-- {# inicio acordeón caracteristicas del archivo #} -->
    <div class="accordion accordion-flush" id="acordion">
      <div class="accordion-item">
        <h2 class="accordion-header" id="flush-headingOne">
          <div class="cont-url-link">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-1"
              aria-expanded="false" aria-controls="flush-1">
              Caracteristicas del archivo.
            </button>
          </div>
        </h2>
        <div id="flush-1" class="accordion-collapse collapse" aria-labelledby="flush-headingOne"
          data-bs-parent="#acordion">
          <!-- {# inicio del cuerpo #} -->
          <div class="ext">
            <ul>
              <li>
                Pesar máximo 50 mb.
              </li>
              <span>Extensiones permitidas:</span>
              <li>
                <img src="{{url_for('static', filename='global/imgs/iconos/docs.png')}}" alt="archivo de texto"
                  data-toggle="tooltip" data-placement="left" title="Archivo de texto"><span>DOCX, DOC, ODT, TXT</span>
              </li>

              <li>
                <img src="{{url_for('static', filename='global/imgs/iconos/sheets.png')}}" alt="hola de cálculo"
                  data-toggle="tooltip" data-placement="left" title="Hoja de cálculo"> <span>XLSX, XLS, ODS, CSV</span>
              </li>
              <li>
                <img src="{{url_for('static', filename='global/imgs/iconos/imgs.png')}}" alt="archivo de imagen"
                  data-toggle="tooltip" data-placement="left" title="Archivo de imagen"> <span>JPG, PNG, JPEG</span>
              </li>
              <li>
                <img src="{{url_for('static', filename='global/imgs/iconos/slide.png')}}" alt="presentación"
                  data-toggle="tooltip" data-placement="left" title="Archivo de presentaciones"> <span>PPTX, ODP</span>
              </li>

              <li>
                <img src="{{url_for('static', filename='global/imgs/iconos/zip.png')}}" alt="carpeta comprimida"
                  data-toggle="tooltip" data-placement="left" title="Carpeta comprimida"> <span>ZIP, RAR</span>
              </li>

              <li>
                <img src="{{url_for('static', filename='global/imgs/iconos/pdf.png')}}" alt="Archivo pdf"
                  data-toggle="tooltip" data-placement="left" title="Archivo pdf"> <span>PDF</span>
              </li>
            </ul>

          </div>
          <!-- {# final del cuerpo #} -->
        </div>
      </div>

    </div>
    <!-- {# final acordeón caracteristicas del archivo #} -->
  </div>
  <div class="f-c">
    <span><b><i>El ícono <b><i class="bi bi-arrows-fullscreen" style="background-color: yellow;"></i></b> te ayudará a
          maximizar y minimizar el editor de texto</i></b></span><br>
    <span><b id="charNumPost">0 / 50,000</b></span>
    <div class="">
      <!-- {# {{ form.publicacion.label() }} #} -->
      {{ form.publicacion(id="ckeditor") }}
    </div>
    {{ ckeditor.load(pkg_type="full") }}
    {{ ckeditor.config(name="ckeditor", language="es") }}
  </div>

  <button class="btn btn-primary btn-lg" type="submit" id="sendPost">Publicar información</button>

</form>

{% endblock body%}

{% block js %}

{% include 'comps/toast.html' %}

<!-- {# i js editor txt quill.js #} -->
<!-- {# src quill js #} -->
<script src="https://cdn.quilljs.com/1.3.6/quill.js"></script>
<!-- {# code txt editor #} -->
<!-- {# f js edito txt quill.js #} -->

<!-- {# i envio de post #} -->
<script src="{{url_for('static', filename='2_users/c_add_post/add_post.js')}}" type="module"></script>
<!-- {# f envio de post #} -->

<!-- {# i conteo de caracteres #} -->
<script src="{{url_for('static', filename='2_users/c_add_post/count_chrs.js')}}" type="module"></script>
<!-- {# f conteo de caracteres #} -->

<!-- {# i file validation #} -->
<script type="module" src="{{ url_for('static', filename='2_users/c_add_post/filename.js') }}"></script>
<!-- {# f file validation #} -->

{% endblock js %}
